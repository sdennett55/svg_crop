(()=>{"use strict";var e,t,r,n,o={5698:(e,t,r)=>{r.r(t)},3635:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var n=r(2884);function o(e,t,r,n,o,i,s){try{var a=e[i](s),l=a.value}catch(e){return void r(e)}a.done?t(l):Promise.resolve(l).then(n,o)}const i=class{constructor(){this.dropZone=document.querySelector("#drop_zone"),this.dropZone.addEventListener("dragover",this.dragOverHandler.bind(this)),this.dropZone.addEventListener("dragleave",this.dragLeaveHandler.bind(this)),this.dropZone.addEventListener("drop",this.dropHandler.bind(this))}dragOverHandler(e){e.preventDefault(),this.dropZone.classList.add("is-hovered")}dragLeaveHandler(e){e.preventDefault(),this.dropZone.classList.remove("is-hovered")}dropHandler(e){var t,r=this;return(t=function*(){e.preventDefault(),r.dropZone.classList.remove("is-hovered"),(0,n.Qe)(e.dataTransfer.files,"uploaded SVG via drop")},function(){var e=this,r=arguments;return new Promise((function(n,i){var s=t.apply(e,r);function a(e){o(s,n,i,a,l,"next",e)}function l(e){o(s,n,i,a,l,"throw",e)}a(void 0)}))})()}}},6977:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var n=r(2884);function o(e,t,r,n,o,i,s){try{var a=e[i](s),l=a.value}catch(e){return void r(e)}a.done?t(l):Promise.resolve(l).then(n,o)}const i=class{constructor(){this.loadFileInput=document.querySelector("#myfile"),this.loadFileInput.addEventListener("change",this.onFileInputChange.bind(this))}onFileInputChange(){var e,t=this;return(e=function*(){(0,n.Ij)();var e=t.loadFileInput.files;(0,n.Qe)(e,"uploaded SVG via input")},function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){o(s,n,i,a,l,"next",e)}function l(e){o(s,n,i,a,l,"throw",e)}a(void 0)}))})()}}},4330:(e,t,r)=>{r.r(t),r.d(t,{serviceWorker:()=>n});var n=()=>{"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js").then((e=>{console.log("SW registered: ",e)})).catch((e=>{console.log("SW registration failed: ",e)}))}))}},2884:(e,t,r)=>{r.d(t,{Ij:()=>p,vQ:()=>w,Qe:()=>m});var n=["defs","g","foreignObject","svg","style","title","desc"];class o{constructor(e,t,r,n){this.width=r,this.height=n,this.filename=t,this.coords={top:1/0,left:1/0,bottom:-1/0,right:-1/0},this.svg=e,this.render(this.svg)}removeAttributes(){this.svg.removeAttribute("viewBox"),this.svg.removeAttribute("width"),this.svg.removeAttribute("height")}filterSVGToVisibleElements(e){return[e].reduce((function e(t,r){return t.push(r),r.childNodes&&r.childNodes.length&&[].reduce.call(r.childNodes,e,t),t}),[]).filter((e=>e.tagName&&!n.includes(e.tagName)&&(e.getBoundingClientRect().width||e.getBoundingClientRect().height)&&!e.parentElement.hasAttribute("mask")&&"defs"!==e.parentElement.tagName&&("none"!==getComputedStyle(e).stroke||"none"!==getComputedStyle(e).fill)))}getCoords(){this.filterSVGToVisibleElements(this.svg).forEach(((e,t,r)=>{var{top:n,left:o,bottom:i,right:s}=e.getBoundingClientRect(),a=getComputedStyle(e).stroke,l=Number(getComputedStyle(e)["stroke-width"].replace("px",""));"none"!==a&&(n-=l/2,o-=l/2,i+=l/2,s+=l/2),n<this.coords.top&&(this.coords.top=n),o<this.coords.left&&(this.coords.left=o),s>this.coords.right&&(this.coords.right=s),i>this.coords.bottom&&(this.coords.bottom=i)}))}static formatViewBoxNum(e){return 1*e.toFixed(2)}setNewAttributes(){this.svg.setAttribute("viewBox","".concat(o.formatViewBoxNum(this.coords.left)," ").concat(o.formatViewBoxNum(this.coords.top)," ").concat(o.formatViewBoxNum(this.coords.right-this.coords.left)," ").concat(o.formatViewBoxNum(this.coords.bottom-this.coords.top))),this.svg.parentElement.classList.add("is-showingSvg")}addSvg(){var e=document.createElement("button");e.classList.add("EnhanceButton"),e.addEventListener("click",(function(e){e.target.classList.toggle("is-enhanced")})),e.appendChild(this.svg),document.querySelector(".PreviewSection").appendChild(e)}render(){this.addSvg(),this.removeAttributes(),this.getCoords(),this.setNewAttributes()}}const i=o;const s=class{constructor(e,t){this.svg=e,this.filename=t,this.addDownloadButton()}addDownloadButton(){if(this.svg){var e=(new XMLSerializer).serializeToString(this.svg),t=unescape(encodeURIComponent(e)),r=btoa(t),n="data:image/svg+xml;base64,".concat(r),o=document.createElement("a");o.href=n,o.setAttribute("download","".concat(this.filename.replace(".svg",""),"-cropped.svg")),o.textContent="Download",document.querySelector(".ButtonWrap").appendChild(o)}}};const a=class{constructor(e){this.svgs=e,this.addMultipleDownloadButton()}saveAs(e,t){if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,fileName);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,fileName);var r=window.document.createElement("a");r.href=window.URL.createObjectURL(e),r.download=t,r.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(r),"function"==typeof r.click?r.click():r.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0})),URL.revokeObjectURL(r.href)}clickHandler(e,t){var r;this.svgs.length>50&&(r=t.innerText,t.setAttribute("disabled",""),t.innerText="Downloading..."),e.generateAsync({type:"blob"}).then(function(e){this.saveAs(e,"SVGCropFiles.zip"),this.svgs.length>50&&(t.removeAttribute("disabled"),t.innerText=r)}.bind(this))}addMultipleDownloadButton(){this.svgs.length<1||r.e(158).then(r.t.bind(r,9158,23)).then((e=>{var{default:t}=e,r=new t;this.svgs.forEach((e=>{var{svg:t,filename:n}=e,o=(new XMLSerializer).serializeToString(t),i=unescape(encodeURIComponent(o)),s=btoa(i);r.file(n,s,{base64:!0})}));var n=document.createElement("button");n.textContent="Download ".concat(this.svgs.length," Files"),n.classList.add("DownloadButton"),n.addEventListener("click",this.clickHandler.bind(this,r,n)),document.querySelector(".ButtonWrap").appendChild(n)}))}};const l=class{constructor(e,t){this.svg=e,this.filename=t,this.addCopyToClipboardButton()}addCopyToClipboardButton(){var e=document.querySelector(".ButtonWrap"),t=document.createElement("button");t.textContent="Copy to clipboard",t.classList.add("CopyButton"),t.addEventListener("click",w),e.appendChild(t)}};var d=r(1668);const c=class{constructor(e,t){this.svg=e,this.filename=t,this.addCopyInput()}addCopyInput(){var e=document.createElement("input");e.classList.add("CopyInput"),e.setAttribute("aria-hidden",""),e.value=this.svg.outerHTML,document.querySelector(".MainContent").appendChild(e)}};const u=class{constructor(e){this.message=e,this.errorElem=null,this.render()}delete(){this.errorElem=document.querySelector(".ErrorMessage");var e=document.body.querySelector(".ErrorMessage");e&&document.body.removeChild(e),this.errorElem=null}render(){this.delete();var e=document.createElement("div");e.classList.add("ErrorMessage"),e.setAttribute("aria-live","polite"),e.innerText=this.message,document.body.appendChild(e),this.errorElem=e}};function h(e,t,r,n,o,i,s){try{var a=e[i](s),l=a.value}catch(e){return void r(e)}a.done?t(l):Promise.resolve(l).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){h(i,n,o,s,a,"next",e)}function a(e){h(i,n,o,s,a,"throw",e)}s(void 0)}))}}function p(){document.querySelector(".PreviewSection").innerHTML="",document.querySelector(".ButtonWrap").innerHTML="";var e=document.querySelector(".CopyInput"),t=document.querySelector(".MainContent");e&&t.removeChild(e)}function m(e,t){return g.apply(this,arguments)}function g(){return(g=v((function*(e,t){if(p(),e){var r,n,o=[],h=0,v=[];for(var m of[...e])if(h++,"image/svg+xml"===m.type){n=m.name;try{r=yield f(m);var g=new i(r,n);o.push({svg:g.svg,filename:g.filename}),gtag("event",t,{event_label:m.name})}catch(e){v.push(m.name)}}else v.push(m.name);if(h>1){if(h!==v.length&&(new d.Z(r,n),new a(o)),v.length>0)return new u("Error: The following files were malformed or not SVGs: ".concat(v.join(", ")))}else{if(v.length>0)return new u("Error: The following files were not SVGs: ".concat(v.join(", ")));new c(r,n),new d.Z(r,n),new s(r,n),new l(r,n)}}}))).apply(this,arguments)}function f(e){return b.apply(this,arguments)}function b(){return(b=v((function*(e){if(!e.name.endsWith(".svg"))throw new Error;var t,r=new Promise((e=>{t=e})),n=new FileReader;return n.readAsText(e),n.onloadend=function(e){var r=e.target.result;if(!r)return t(new Error);r.includes("xmlns")||(r=r.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg"'));var n=(new DOMParser).parseFromString(r,"image/svg+xml").documentElement;if("html"===n.tagName)return t(new Error);t(n)},r}))).apply(this,arguments)}function w(){var e=document.querySelector(".CopyInput");e&&(e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"))}},1668:(e,t)=>{var r=function(){function e(e,t){this.svg=e,this.filename=t,this.addColorToggle()}return e.prototype.handleColorToggle=function(e){document.querySelector(".MainContent").classList.toggle("is-blackBg");var t=e.target;"Preview on black"===t.textContent?(t.children[0].textContent="Preview on white",t.setAttribute("title","Preview on white")):(t.children[0].textContent="Preview on black",t.setAttribute("title","Preview on black"))},e.prototype.addColorToggle=function(){var e=document.createElement("span");e.classList.add("AccessibleText"),e.textContent="Preview on black";var t=document.createElement("div");t.classList.add("ColorToggleWrap"),t.setAttribute("title","Preview on black");var r=document.createElement("button");r.classList.add("ColorToggleButton"),r.appendChild(e),r.addEventListener("click",this.handleColorToggle),t.appendChild(r),document.querySelector(".PreviewSection").appendChild(t)},e}();t.Z=r}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return o[e](r,r.exports,s),r.exports}s.m=o,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);s.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,s.d(o,i),o},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,r)=>(s.f[r](e,t),t)),[])),s.u=e=>e+".main.js",s.miniCssF=e=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},n="svg_crop:",s.l=(e,t,o,i)=>{if(r[e])r[e].push(t);else{var a,l;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==n+o){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",n+o),a.src=e),r[e]=[t];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(v);var o=r[e];if(delete r[e],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(n))),t)return t(n)},v=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="",(()=>{var e={179:0};s.f.j=(t,r)=>{var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var i=s.p+s.u(t),a=new Error;s.l(i,(r=>{if(s.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,n[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[i,a,l]=r,d=0;for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(l)l(s);for(t&&t(r);d<i.length;d++)o=i[d],s.o(e,o)&&e[o]&&e[o][0](),e[i[d]]=0},r=self.webpackChunksvg_crop=self.webpackChunksvg_crop||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a,l,d;a=s(3635),l=s(6977),d=s(4330),s(5698),new a.default,new l.default,d.serviceWorker()})();
//# sourceMappingURL=main.js.map